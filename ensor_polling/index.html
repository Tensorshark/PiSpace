
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Operational_states/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Sensor Polling - PiSpace Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sensor-polling" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="PiSpace Documentation" class="md-header__button md-logo" aria-label="PiSpace Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PiSpace Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sensor Polling
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PiSpace Documentation" class="md-nav__button md-logo" aria-label="PiSpace Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    PiSpace Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to PiSpace Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Error_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error cases
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Operational_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operational states of heater
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Sensor Polling
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Sensor Polling
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sensor-polling-recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      Sensor Polling Recommendations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-polling-nice-to-have" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Polling (nice to have)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filtering-and-smoothing-sensor-data" class="md-nav__link">
    <span class="md-ellipsis">
      Filtering and Smoothing Sensor Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety-and-redundancy" class="md-nav__link">
    <span class="md-ellipsis">
      Safety and Redundancy
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sensor-polling-recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      Sensor Polling Recommendations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-polling-nice-to-have" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Polling (nice to have)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filtering-and-smoothing-sensor-data" class="md-nav__link">
    <span class="md-ellipsis">
      Filtering and Smoothing Sensor Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety-and-redundancy" class="md-nav__link">
    <span class="md-ellipsis">
      Safety and Redundancy
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="sensor-polling">Sensor Polling</h1>
<p>Sensor data is critical to the heater’s performance and safety. We explore recommendations for sensor polling frequencies based on their role in the system. It introduces dynamic polling, which adjusts frequency based on operational states, and filtering techniques to smooth noisy data.</p>
<h3 id="sensor-polling-recommendations"><strong>Sensor Polling Recommendations</strong></h3>
<ul>
<li>
<p><strong>High-Resolution Sensors (e.g., Flame and Case Temp Sensors):</strong></p>
<ul>
<li><strong>Frequency</strong>: Poll every 100–200 milliseconds (5–10 Hz).</li>
<li><strong>Reason</strong>: Rapid changes (e.g., flame ignition or overheating) require quick detection for safety.</li>
<li>
<p><strong>Medium-Resolution Sensors (e.g., Inlet and Ambient Temp Sensors):</strong></p>
</li>
<li>
<p><strong>Frequency</strong>: Poll every 500 milliseconds to 1 second (1–2 Hz).</p>
</li>
<li><strong>Reason</strong>: These temperatures typically change slowly, so less frequent polling reduces system overhead.</li>
<li>
<p><strong>Error Monitoring</strong>:</p>
</li>
<li>
<p>For critical conditions (e.g., overheating, flame-out), ensure error checks are performed on each sensor poll cycle to respond in real-time.</p>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Sensor</strong></th>
<th><strong>Recommended Frequency</strong></th>
<th><strong>Reason</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Case Temp Sensor</td>
<td>100–200 ms</td>
<td>Detect rapid temperature changes in combustion chamber.</td>
</tr>
<tr>
<td>Flame Sensor</td>
<td>100–200 ms</td>
<td>Ensure real-time detection of flame establishment or loss.</td>
</tr>
<tr>
<td>Inlet Temp Sensor</td>
<td>500 ms – 1 sec</td>
<td>Monitor air input stability without excessive overhead.</td>
</tr>
<tr>
<td>Ambient Temp Sensor</td>
<td>1–2 sec</td>
<td>Room temperature changes slowly; frequent updates unnecessary.</td>
</tr>
</tbody>
</table>
<h3 id="dynamic-polling-nice-to-have"><strong>Dynamic Polling (nice to have)</strong></h3>
<ul>
<li>
<p><strong>Adjust Frequencies Based on State</strong>:</p>
<ul>
<li><strong>Prime/Glow/Ignition/Fire</strong>: Use higher polling frequencies (100–200 ms) for critical sensors (e.g., flame, case temp).</li>
<li><strong>Idle</strong>: Reduce polling frequency to save resources (e.g., 1–2 seconds for all sensors).</li>
<li><strong>Error States</strong>: Use medium polling (500 ms – 1 second) for diagnostics.</li>
<li>
<p><strong>Event-Driven Polling</strong>:</p>
</li>
<li>
<p>Implement event-based interrupts for significant sensor changes (e.g., rapid temperature rise) to complement polling. This ensures critical events are handled promptly without constant high-frequency polling.</p>
</li>
</ul>
</li>
</ul>
<h3 id="filtering-and-smoothing-sensor-data"><strong>Filtering and Smoothing Sensor Data</strong></h3>
<ul>
<li>Use <strong>moving averages</strong> or low-pass filters to smooth noisy sensor readings:<ul>
<li>For example, compute a running average of the last 5–10 samples to avoid reacting to transient spikes.</li>
</ul>
</li>
<li>For flame sensors, consider using a <strong>debounce timer</strong> (require a steady flame signal for 1–2 seconds before confirming ignition).</li>
</ul>
<h3 id="safety-and-redundancy"><strong>Safety and Redundancy</strong></h3>
<ul>
<li>Implement <strong>fail-safe timers</strong> for critical states (e.g., ignition, fire):<ul>
<li>If expected conditions (e.g., flame detected, temp rising) are not met within a certain time, trigger an error.</li>
</ul>
</li>
<li>Perform <strong>sensor health checks</strong>:<ul>
<li>Verify sensors are returning valid data (e.g., within expected ranges) on each poll cycle to prevent erroneous readings from causing unsafe behavior.</li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>